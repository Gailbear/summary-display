extends layout

include mixins/stat-block.pug
include mixins/featured-game.pug
include mixins/status-circle.pug
include mixins/game-row.pug

block content
  .wrapper(data-event=current_event)
    .right 
      .colorbar
        .title WHAT'S HOT
      .box
        +featured-game(games[0])
      .box
        +featured-game(games[1])
    .main
      .header
        svg(width="100%", height="100%", viewBox="0 0 600 70", preserveAspectRatio="xMinYMin")
          rect.color-main(x="0", y="0", width="120", height="55")
          polygon.color-dark(points="0 70, 95 70, 110 55, 0 55")
          image(x="10", y="10", width="100", xlink:href="images/logo_pax.svg")
          text.white(x="130", y="45", text-anchor="left") TABLETOP LIBRARY
      .box
        h3 TOP TITLES
        .header-bar
          svg(width="100%", height="100%", viewBox="0 0 300 15", preserveAspectRatio="none")
            polygon.color-dark(points="0 15, 210 15, 225 0, 0 0")
            text.tiny.white(x="5", y="11", text-anchor="start") BOX
            text.tiny.white(x="55", y="11", text-anchor="start") TITLE
            text.tiny.dark(x="295", y="11", text-anchor="end") CHECKOUTS
        ul
          each game in games
            +game-row(game)
      .diamond
        svg(width="100%", height="100%", viewBox="0 0 400 400")
          polygon.color-darkest(points="0 250, 250 0, 400 150, 150 400")
          polygon.color-darkest(points="0 150, 150 0, 400 250, 250 400")
          polygon.color-dark(points="0 300, 300 0, 400 100, 100 400")
          polygon.color-dark(points="0 100, 100 0, 400 300, 300 400")
          polygon.color-main(points="0 200, 200 0, 400 200, 200 400")
          image(x="115", y="90", width="170", xlink:href="images/logo_pax.svg")
          text.white.large(x="200", y="210", text-anchor="middle") WELCOME TO TABLETOP!
          text.white.small(x="200", y="255", text-anchor="middle") Come check out a game, bring
          text.white.small(x="200", y="280", text-anchor="middle") it back, and try as many as
          text.white.small(x="200", y="305", text-anchor="middle") you want.
      .box
        h3 LIBRARY STATUS
        .header-bar
          svg(width="100%", height="100%", viewBox="0 0 300 15", preserveAspectRatio="none")
            polygon.color-dark(points="0 15, 210 15, 225 0, 0 0")
        .stats-content
            .activity
              +status-circle(s(activity_level).slugify().toLowerCase().value())
              span.activity-text The library is #{s(activity_level).humanize().toLowerCase().value()}
            +stat-blocks(stats)
